# airflow-values.yaml
airflow:
  config:
    AIRFLOW__CORE__EXECUTOR: "KubernetesExecutor"
    AIRFLOW__CORE__LOAD_EXAMPLES: "False"

  service:
    type: ClusterIP
    port: 8080

  # Alles, was externe Komponenten starten w√ºrde, deaktivieren
  redis:
    enabled: false

  postgresql:
    enabled: false

  flower:
    enabled: false

  scheduler:
    enabled: true

  workers:
    enabled: false

  triggerer:
    enabled: true

  dagProcessor:
    enabled: true

  ingress:
    enabled: true
    ingressClassName: "nginx"
    annotations:
      cert-manager.io/cluster-issuer: letsencrypt-prod
      kubernetes.io/backend-protocol: "HTTP"
      kubernetes.io/use-forwarded-headers: "true"
      kubernetes.io/proxy-read-timeout: "3600"
      kubernetes.io/proxy-send-timeout: "3600"
      kubernetes.io/ssl-redirect: "true"

    hosts:
      - host: "argoworkflows.group-jofz.dski23a.timebertt.dev"
        paths:
          - path: /
            pathType: ImplementationSpecific

    tls:
      - secretName: "argoworkflows-tls"
        hosts:
          - "argoworkflows.group-jofz.dski23a.timebertt.dev"
